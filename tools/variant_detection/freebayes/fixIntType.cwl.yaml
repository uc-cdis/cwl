#!/usr/bin/env cwl-runner

cwlVersion: "cwl:draft-3"

class: CommandLineTool

requirements:
  - $import: ../../envvar-global.cwl
  - class: InlineJavascriptRequirement
  - class: ShellCommandRequirement
  - class: MultipleInputFeatureRequirement

inputs:

  - id: input_vcf_path
    type: File
    inputBinding:
      position: 2

outputs:

  - id: fixed_output_vcf
    type: File
    outputBinding:
      glob: $(inputs.input_vcf_path.path.replace(/^.*[\\\/]/, '').replace(/\.[^/.]+$/, '') + '.fixed.vcf')

baseCommand: ["sed"]
arguments:
  - valueFrom: 's/Type=Int,/Type=Integer,/g'
    position: 1
  - valueFrom: $(inputs.input_vcf_path.path.replace(/^.*[\\\/]/, '').replace(/\.[^/.]+$/, '') + '.fixed.vcf')
    position: 3
    prefix: ">"