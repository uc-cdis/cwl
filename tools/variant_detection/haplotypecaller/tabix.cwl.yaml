#!/usr/bin/env cwl-runner

cwlVersion: v1.0

requirements:
  - class: DockerRequirement
    dockerPull: quay.io/shenglai/bgzip_tabix:0.3b
  - class: InlineJavascriptRequirement
  - class: InitialWorkDirRequirement
    listing:
      - $(inputs.input_vcf_gz)

class: CommandLineTool

inputs:
  - id: input_vcf_gz
    type: File
    inputBinding:
      position: 1
      valueFrom: $(self.basename)

outputs:
  - id: output
    type: File
    outputBinding:
      glob: $(inputs.input_vcf_gz.basename)
    secondaryFiles:
      - .tbi

baseCommand: [tabix]